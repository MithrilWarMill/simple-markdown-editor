<html>
<head>
    <link href="./css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div>
    <div style="display: inline-block;width: 50%;">
        <textarea id='editor' class="form-control" style="height: 100%"></textarea>
    </div>
    <div id='preview' style="display: inline-block;position: absolute;padding-top: 1px;"></div>
</div>
</body>
<script src="./jquery/jquery.min.js"></script>
<script src="./js/bootstrap.min.js"></script>
<script src="./js/markdown.min.js"></script>>
<script type="text/javascript">
    $(document).ready(function(){
        $('#editor').on('input', function() {
            var md_content = $(this).val();
            html_content = markdown.toHTML(md_content);
            $('#preview').html(html_content);
        });

        $('#editor').on('keydown', function(e) {
            var keyCode = e.keyCode || e.which;
            // hook TAB key
            if (keyCode == 9) {
              e.preventDefault();
              var start = $(this).get(0).selectionStart;
              var end = $(this).get(0).selectionEnd;

              // set textarea value to: text before caret + tab + text after caret
              $(this).val($(this).val().substring(0, start)
                + "\t"
                + $(this).val().substring(end));

                // put caret at right position again
                $(this).get(0).selectionStart =
                $(this).get(0).selectionEnd = start + 1;
                // call custom function here
          }
        });
    });
</script>
</html>
